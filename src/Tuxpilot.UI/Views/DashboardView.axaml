<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:Tuxpilot.UI.ViewModels"
             x:Class="Tuxpilot.UI.Views.DashboardView"
             x:DataType="vm:DashboardViewModel">

    <Design.DataContext>
        <vm:DashboardViewModel/>
    </Design.DataContext>

    
  <ScrollViewer>
        <StackPanel Margin="32" Spacing="24">
            
            <!-- ðŸ§ Header avec logo -->
            <StackPanel Orientation="Horizontal" Spacing="16">
                <TextBlock Text="ðŸ§" FontSize="48" VerticalAlignment="Center"/>
                <StackPanel VerticalAlignment="Center" Spacing="4">
                    <TextBlock Text="TuxCopilot" 
                              FontSize="28" 
                              FontWeight="Bold"/>
                    <TextBlock Text="Assistant Linux pour dÃ©butants et collectivitÃ©s" 
                              FontSize="13" 
                              Foreground="Gray"/>
                </StackPanel>
            </StackPanel>
            
            <!-- Indicateur de chargement -->
            <ProgressBar IsIndeterminate="True"
                        IsVisible="{Binding IsLoading}"
                        Height="4"/>
            
            
            <!-- Info derniÃ¨re mise Ã  jour -->
            <Border Background="#F0F9FF"
                    CornerRadius="8"
                    Padding="12,10"
                    BorderBrush="#BAE6FD"
                    BorderThickness="1">
                <StackPanel Orientation="Horizontal" Spacing="12">
                    <TextBlock Text="ðŸ”„"
                               FontSize="16"
                               VerticalAlignment="Center"/>
                    <TextBlock Text="{Binding TimeSinceLastRefresh}"
                               FontSize="13"
                               Foreground="#0369A1"
                               VerticalAlignment="Center"/>
                    <TextBlock Text="â€¢ Actualisation automatique toutes les 10s"
                               FontSize="12"
                               Foreground="#64748B"
                               VerticalAlignment="Center"/>
                </StackPanel>
            </Border>
            
            <!-- Informations systÃ¨me -->
            <Border Background="White"
                    CornerRadius="12"
                    Padding="24"
                    BorderBrush="#E5E7EB"
                    BorderThickness="1">
                <StackPanel Spacing="20">
                    
                    <TextBlock Text="â„¹ï¸ Informations systÃ¨me" 
                              FontSize="18" 
                              FontWeight="SemiBold"/>
                    
                    <!-- Distribution -->
                    <StackPanel Spacing="4">
                        <TextBlock Text="Distribution" 
                                  FontSize="13"
                                  Foreground="Gray"/>
                        <TextBlock Text="{Binding SystemInfo.Distribution}"
                                  FontSize="16"
                                  FontWeight="Medium"
                                  Foreground="#111827"/>
                    </StackPanel>
                    
                    <!-- Kernel -->
                    <StackPanel Spacing="4">
                        <TextBlock Text="Kernel" 
                                  FontSize="13"
                                  Foreground="Gray"/>
                        <TextBlock Text="{Binding SystemInfo.KernelVersion}"
                                  FontSize="16"
                                  FontWeight="Medium"
                                  Foreground="#111827"/>
                    </StackPanel>
                    
                    <!-- Gestionnaire de paquets -->
                    <StackPanel Spacing="4">
                        <TextBlock Text="Gestionnaire de paquets" 
                                  FontSize="13"
                                  Foreground="Gray"/>
                        <TextBlock Text="{Binding SystemInfo.PackageManager}"
                                  FontSize="16"
                                  FontWeight="Medium"
                                  Foreground="#111827"/>
                    </StackPanel>
                    
                    <!-- Processeur -->
                    <StackPanel Spacing="4">
                        <TextBlock Text="Processeur" 
                                   FontSize="13"
                                   Foreground="Gray"/>
                        <TextBlock Text="{Binding SystemInfo.CpuModel}"
                                   FontSize="16"
                                   FontWeight="Medium"
                                   Foreground="#111827"/>
                        <TextBlock FontSize="13" Foreground="Gray">
                            <Run Text="{Binding SystemInfo.CpuCores}"/>
                            <Run Text=" cÅ“urs â€¢ "/>
                            <Run Text="{Binding SystemInfo.CpuThreads}"/>
                            <Run Text=" threads"/>
                        </TextBlock>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <!-- Utilisation des ressources -->
            <Border Background="White"
                    CornerRadius="12"
                    Padding="24"
                    BorderBrush="#E5E7EB"
                    BorderThickness="1">
                <StackPanel Spacing="20">
                    
                    <TextBlock Text="ðŸ“Š Utilisation des ressources" 
                              FontSize="18" 
                              FontWeight="SemiBold"/>
                    
                    <!-- RAM avec couleur dynamique -->
                    <StackPanel Spacing="8">
                        <Grid ColumnDefinitions="*,Auto">
                            <TextBlock Grid.Column="0"
                                      Text="MÃ©moire RAM" 
                                      FontSize="14"
                                      FontWeight="Medium"
                                      Foreground="Gray"/>
                            <TextBlock Grid.Column="1" 
                                      Text="{Binding SystemInfo.RamUsageText}"
                                      FontSize="14"
                                      Foreground="{Binding SystemInfo.RamColor}"/>
                        </Grid>
                        <ProgressBar Value="{Binding SystemInfo.RamPercent}" 
                                    Maximum="100"
                                    Height="12"
                                    CornerRadius="6"
                                    Foreground="{Binding SystemInfo.RamColor}"/>
                    </StackPanel>
                    
                    <!-- CPU avec couleur dynamique -->
                    <StackPanel Spacing="8">
                        <Grid ColumnDefinitions="*,Auto">
                            <TextBlock Grid.Column="0"
                                      Text="Processeur (CPU)" 
                                      FontSize="14"
                                      FontWeight="Medium"
                                      Foreground="Gray"/>
                            <TextBlock Grid.Column="1" 
                                      Text="{Binding SystemInfo.CpuUsageText}"
                                      FontSize="14"
                                      Foreground="{Binding SystemInfo.CpuColor}"/>
                        </Grid>
                        <ProgressBar Value="{Binding SystemInfo.CpuPercent}" 
                                    Maximum="100"
                                    Height="12"
                                    CornerRadius="6"
                                    Foreground="{Binding SystemInfo.CpuColor}"/>
                    </StackPanel>
                    
                    <!-- Disque avec couleur dynamique -->
                    <StackPanel Spacing="8">
                        <Grid ColumnDefinitions="*,Auto">
                            <TextBlock Grid.Column="0"
                                      Text="Espace disque" 
                                      FontSize="14"
                                      FontWeight="Medium"
                                      Foreground="Gray"/>
                            <TextBlock Grid.Column="1" 
                                      Text="{Binding SystemInfo.DiskUsageText}"
                                      FontSize="14"
                                      Foreground="{Binding SystemInfo.DiskColor}"/>
                        </Grid>
                        <ProgressBar Value="{Binding SystemInfo.DiskPercent}" 
                                    Maximum="100"
                                    Height="12"
                                    CornerRadius="6"
                                    Foreground="{Binding SystemInfo.DiskColor}"/>
                    </StackPanel>
                    
                    <!-- Bouton actualiser -->
                    <Button Content="ðŸ”„ Actualiser"
                            Command="{Binding RefreshCommand}"
                            HorizontalAlignment="Left"
                            Padding="16,10"
                            Margin="0,8,0,0"
                            Background="#3B82F6"
                            Foreground="White"
                            BorderThickness="0"
                            CornerRadius="8"
                            Cursor="Hand"/>
                    
                </StackPanel>
            </Border>
            
            <!-- Message de statut -->
            <Border Background="#EFF6FF"
                    CornerRadius="8"
                    Padding="16"
                    BorderBrush="#3B82F6"
                    BorderThickness="2"
                    IsVisible="{Binding StatusMessage, Converter={x:Static StringConverters.IsNotNullOrEmpty}}">
                <TextBlock Text="{Binding StatusMessage}" 
                          FontSize="14"
                          FontWeight="Medium"
                          Foreground="#1E40AF"/>
            </Border>
            
        </StackPanel>
    </ScrollViewer>
</UserControl>