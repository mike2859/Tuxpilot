<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:Tuxpilot.UI.ViewModels"
             x:Class="Tuxpilot.UI.Views.DashboardView"
             x:DataType="vm:DashboardViewModel">

    <Design.DataContext>
        <vm:DashboardViewModel/>
    </Design.DataContext>

    
  <ScrollViewer>
        <StackPanel Margin="32" Spacing="24">
            
            <!-- ðŸ§ Header avec logo -->
            <StackPanel Orientation="Horizontal" Spacing="16">
                <TextBlock Text="ðŸ§" FontSize="48" VerticalAlignment="Center"/>
                <StackPanel VerticalAlignment="Center" Spacing="4">
                    <TextBlock Classes="text-h1" Text="Tuxpilot"/>
                    <TextBlock Classes="text-muted" Text="Assistant Linux pour dÃ©butants et collectivitÃ©s"/>
                </StackPanel>
            </StackPanel>
            
            <!-- Indicateur de chargement -->
            <ProgressBar IsIndeterminate="True"
                        IsVisible="{Binding IsLoading}"
                        Height="4"/>
            
            
            <!-- Info derniÃ¨re mise Ã  jour -->
            <Border Background="#F0F9FF"
                    CornerRadius="8"
                    Padding="12,10"
                    BorderBrush="#BAE6FD"
                    BorderThickness="1">
                <StackPanel Orientation="Horizontal" Spacing="12">
                    <TextBlock Text="ðŸ”„"
                               FontSize="16"
                               VerticalAlignment="Center"/>
                    <TextBlock Classes="text-sm text-info"
                               Text="{Binding TimeSinceLastRefresh}"
                               VerticalAlignment="Center"/>
                    <TextBlock Classes="text-sm text-muted"
                               Text="â€¢ Actualisation automatique toutes les 10s"
                               VerticalAlignment="Center"/>
                </StackPanel>
            </Border>
            
            <!-- Informations systÃ¨me -->
            <Border Background="White"
                    CornerRadius="12"
                    Padding="24"
                    BorderBrush="#E5E7EB"
                    BorderThickness="1">
                <StackPanel Spacing="20">
                    
                    <TextBlock Text="â„¹ï¸ Informations systÃ¨me" 
                              FontSize="18" 
                              FontWeight="SemiBold"/>
                    
                    <!-- Distribution -->
                    <StackPanel Spacing="4">
                        <TextBlock Classes="text-label" Text="Distribution"/>
                        <TextBlock Classes="text-value" Text="{Binding SystemInfo.Distribution}"/>
                    </StackPanel>
                    
                    <!-- Kernel -->
                    <StackPanel Spacing="4">
                        <TextBlock Classes="text-label" Text="Kernel"/>
                        <TextBlock Classes="text-value" Text="{Binding SystemInfo.KernelVersion}"/>
                    </StackPanel>
                    
                    <!-- Gestionnaire de paquets -->
                    <StackPanel Spacing="4">
                        <TextBlock Classes="text-label" Text="Gestionnaire de paquets"/>
                        <TextBlock Classes="text-value" Text="{Binding SystemInfo.PackageManager}"/>
                    </StackPanel>
                    
                    <!-- Processeur -->
                    <StackPanel Spacing="4">
                        <TextBlock Classes="text-label" Text="Processeur"/>
                        <TextBlock Classes="text-value" Text="{Binding SystemInfo.CpuModel}"/>
                        <TextBlock Classes="text-muted">
                            <Run Text="{Binding SystemInfo.CpuCores}"/>
                            <Run Text=" cÅ“urs â€¢ "/>
                            <Run Text="{Binding SystemInfo.CpuThreads}"/>
                            <Run Text=" threads"/>
                        </TextBlock>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <!-- Utilisation des ressources -->
            <Border Background="White"
                    CornerRadius="12"
                    Padding="24"
                    BorderBrush="#E5E7EB"
                    BorderThickness="1">
                <StackPanel Spacing="20">
                    
                    <TextBlock Classes="text-h2" Text="ðŸ“Š Utilisation des ressources"/>
                    
                    <!-- RAM avec couleur dynamique -->
                    <StackPanel Spacing="8">
                        <Grid ColumnDefinitions="*,Auto">
                            
                            <TextBlock Grid.Column="0" Classes="text-body" Text="MÃ©moire RAM"/>
                            <TextBlock Grid.Column="1" Classes="text-metric" 
                                       Text="{Binding SystemInfo.RamUsageText}"
                                       Foreground="{Binding SystemInfo.RamColor}"/>
                        </Grid>
                        <ProgressBar Value="{Binding SystemInfo.RamPercent}" 
                                    Maximum="100"
                                    Height="12"
                                    CornerRadius="6"
                                    Foreground="{Binding SystemInfo.RamColor}"/>
                    </StackPanel>
                    
                    <!-- CPU avec couleur dynamique -->
                    <StackPanel Spacing="8">
                        <Grid ColumnDefinitions="*,Auto">
                            <TextBlock Grid.Column="0" Classes="text-body" Text="Processeur (CPU)"/>
                            <TextBlock Grid.Column="1" Classes="text-metric" 
                                       Text="{Binding SystemInfo.CpuUsageText}"
                                       Foreground="{Binding SystemInfo.CpuColor}"/>
                        </Grid>
                        <ProgressBar Value="{Binding SystemInfo.CpuPercent}" 
                                    Maximum="100"
                                    Height="12"
                                    CornerRadius="6"
                                    Foreground="{Binding SystemInfo.CpuColor}"/>
                    </StackPanel>
                    
                    <!-- Disque avec couleur dynamique -->
                    <StackPanel Spacing="8">
                        <Grid ColumnDefinitions="*,Auto">
                            <TextBlock Grid.Column="0" Classes="text-body" Text="Espace disque"/>
                            <TextBlock Grid.Column="1" Classes="text-metric" 
                                       Text="{Binding SystemInfo.DiskUsageText}"
                                       Foreground="{Binding SystemInfo.DiskColor}"/>
                        </Grid>
                        <ProgressBar Value="{Binding SystemInfo.DiskPercent}" 
                                    Maximum="100"
                                    Height="12"
                                    CornerRadius="6"
                                    Foreground="{Binding SystemInfo.DiskColor}"/>
                    </StackPanel>
                    
                    <!-- Bouton actualiser -->
                    <Button Classes="btn-primary"
                             Content="ðŸ”„ Actualiser"
                             Command="{Binding RefreshCommand}"
                             HorizontalAlignment="Left"
                             Margin="0,8,0,0"/>
                    
                </StackPanel>
            </Border>
            
            <!-- Message de statut -->
            <Border Background="#EFF6FF"
                    CornerRadius="8"
                    Padding="16"
                    BorderBrush="#3B82F6"
                    BorderThickness="2"
                    IsVisible="{Binding StatusMessage, Converter={x:Static StringConverters.IsNotNullOrEmpty}}">
                <TextBlock Classes="text-body" 
                           Text="{Binding StatusMessage}" 
                           FontWeight="Medium"
                           Foreground="#1E40AF"/>
            </Border>
            
        </StackPanel>
    </ScrollViewer>
</UserControl>