using Tuxpilot.Core.Entities;

namespace Tuxpilot.UI.ViewModels;

/// <summary>
/// ViewModel pour une entrée de log avec propriétés de style
/// </summary>
public class LogEntryViewModel
{
    private readonly LogEntry _logEntry;

    public LogEntryViewModel(LogEntry logEntry)
    {
        _logEntry = logEntry;
    }

    public string Timestamp => _logEntry.Timestamp;
    public string Service => _logEntry.Service;
    public string Message => _logEntry.Message;
    public string Severity => _logEntry.Severity;

    /// <summary>
    /// Couleur de fond selon la sévérité
    /// </summary>
    public string BackgroundColor => Severity switch
    {
        "error" => "BackgroundDanger",
        "warning" => "BackgroundWarning",
        "info" => "BackgroundInfo",
        _ => "BackgroundSecondary"
    };

    /// <summary>
    /// Couleur du texte du service selon la sévérité
    /// </summary>
    public string ServiceColor => Severity switch
    {
        "error" => "Danger",
        "warning" => "Warning",
        "info" => "Info",
        _ => "TextMuted"
    };

    /// <summary>
    /// Couleur du texte du message (toujours foncé pour lisibilité)
    /// </summary>
   public string MessageColor => "TextPrimary";

    /// <summary>
    /// Nom de la ressource d'icône selon la sévérité
    /// </summary>
    public string IconResourceKey => Severity switch
    {
        "error" => "IconClose",      // ❌ Croix pour erreur
        "warning" => "IconWarning",  // ⚠️ Triangle pour warning
        "info" => "IconInfo",        // ℹ️ Cercle info
        _ => "IconInfo"
    };

    /// <summary>
    /// Couleur de l'icône selon la sévérité
    /// </summary>
    public string IconColor => Severity switch
    {
        "error" => "Danger",
        "warning" => "Warning",
        "info" => "Info",
        _ => "TextMuted"
    };
}